!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},r={},n={}.hasOwnProperty,i={},o=function(t,e){var r=0;e&&(e.indexOf(!1)&&(r="components/".length),e.indexOf("/",r)>0&&(e=e.substring(r,e.indexOf("/",r))));var n=i[t+"/index.js"]||i[e+"/deps/"+t+"/index.js"];return n?"components/"+n.substring(0,n.length-".js".length):t},s=function(){var t=/^\.\.?(\/|$)/;return function(e,r){var n,i,o=[];n=(t.test(r)?e+"/"+r:r).split("/");for(var s=0,a=n.length;a>s;s++)i=n[s],".."===i?o.pop():"."!==i&&""!==i&&o.push(i);return o.join("/")}}(),a=function(t){return t.split("/").slice(0,-1).join("/")},l=function(e){return function(r){var n=s(a(e),r);return t.require(n,e)}},u=function(t,e){var n={id:t,exports:{}};return r[t]=n,e(n.exports,l(t),n),n.exports},p=function(t,i){var a=s(t,".");if(null==i&&(i="/"),a=o(t,i),n.call(r,a))return r[a].exports;if(n.call(e,a))return u(a,e[a]);var l=s(a,"./index");if(n.call(r,l))return r[l].exports;if(n.call(e,l))return u(l,e[l]);throw new Error('Cannot find module "'+t+'" from "'+i+'"')};p.alias=function(t,e){i[e]=t},p.register=p.define=function(t,r){if("object"==typeof t)for(var i in t)n.call(t,i)&&(e[i]=t[i]);else e[t]=r},p.list=function(){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t},p.brunch=!0,t.require=p}}(),require.register("application",function(t,e,r){var n,i,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("views/alert-view"),r.exports=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.start=function(){return window.savedPageStatus={},e.__super__.start.apply(this,arguments),this.subscribeEvent("!application:showAlert",this.showAlertMessage)},e.prototype.showAlertMessage=function(t){var e;return e={text:" ",type:"information",layout:"bottom",theme:"relax",timeout:1500},_.extend(e,t),noty(e)},e}(Chaplin.Application)}),require.register("controllers/base/controller",function(t,e,r){var n,i,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=e("views/site-view"),r.exports=n=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.beforeAction=function(){return $.noty.closeAll(),this.reuse("site",i)},e.prototype.checkSetup=function(){var t;return t=Q.defer(),$.ajax({type:"GET",url:"/api/setup/is_configured",dataType:"json",success:function(){return t.resolve()},error:function(e){return function(r){return e.publishEvent("!application:showAlert",{type:"information",text:"ConfiguraciÃ³n necesaria"}),Chaplin.utils.redirectTo({controller:"setup",action:"show"}),t.reject()}}(this)}),t.promise},e}(Chaplin.Controller)}),require.register("controllers/home-controller",function(t,e,r){var n,i,o,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("controllers/base/controller"),i=e("views/home/header-view"),r.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.beforeAction=function(){return e.__super__.beforeAction.apply(this,arguments),this.reuse("header",i,{region:"header"})},e.prototype.index=function(){return this.view=new HomePageView({region:"main"})},e}(n)}),require.register("controllers/scan-controller",function(t,e,r){var n,i,o,s,a={}.hasOwnProperty,l=function(t,e){function r(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("controllers/base/controller"),i=e("views/home/header-view"),o=e("views/scan/scan-view"),r.exports=s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.beforeAction=function(){return e.__super__.beforeAction.apply(this,arguments),this.reuse("header",i,{region:"header"})},e.prototype.index=function(t){return this.indexView=new o({containerMethod:"html",region:"main"})},e}(n)}),require.register("controllers/setup-controller",function(t,e,r){var n,i,o,s,a,l={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("controllers/base/controller"),i=e("views/home/header-view"),a=e("views/setup/setup-view"),s=e("models/setup/setup-model"),r.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.beforeAction=function(){return e.__super__.beforeAction.apply(this,arguments),this.reuse("header",i,{region:"header"})},e.prototype.show=function(){return this.setupModel=new s,this.setupModel.fetch(),this.view=new a({region:"main",model:this.setupModel})},e.prototype.checkSetup=function(){return Q.fcall(function(){return!0})},e}(n)}),require.register("initialize",function(t,e,r){var n,i,o;n=e("application"),o=e("routes"),i=e("lib/utils"),$(function(){return $.fn.onTypeFinished=i.onTypeFinished,FastClick.attach(document.body),i18n.init({lng:"en",fallbackLng:"en",ns:{namespaces:["app"],defaultNs:"app"}},function(){return numeral.language("en"),new n({title:"Web Scanner",controllerSuffix:"-controller",routes:o})})})}),require.register("lib/scanner",function(t,e,r){r.exports={preview:function(){var t,e;return t=Q.defer(),e=new XMLHttpRequest,e.onreadystatechange=function(){var e,r;return 4===this.readyState?200===this.status?(r=window.URL||window.webkitURL,e=r.createObjectURL(this.response),t.resolve(e)):t.reject(this.statusText):void 0},e.open("GET","/api/preview"),e.responseType="blob",e.send(),t.promise},scan:function(t){return window.location.assign("/api/scan")}}}),require.register("lib/utils",function(t,e,r){var n,i,o,s;s=Chaplin.utils.beget(Chaplin.utils),o=function(t,e){return i18n.t(t,e)},n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},i=function(t){return o(t,{context:"plural"})},_.extend(s,{onTypeFinished:function(t){var e,r,n,i,o;return i=function(){var t,e,r,n;return clearTimeout(r),0===e?(e=(new Date).getTime(),t=1e3,void(r=setTimeout(o,1e3))):(n=(new Date).getTime(),t=(t+(n-e))/2,e=n,r=setTimeout(o,2*t))},o=function(){var e;return t.apply(),e=0},n=void 0,r=0,e=1e3,$(this).bind("keydown",i),this},naturalCmp:function(t,e){var r,n,i,o,s,a,l,u,p;if(t===e)return 0;if(!t)return-1;if(!e)return 1;for(i=/(\.\d+)|(\d+)|(\D+)/g,u=String(t).match(i),p=String(e).match(i),o=Math.min(u.length,p.length),s=0;o>s;){if(r=u[s],n=p[s],r!==n)return a=+r,l=+n,a===a&&l===l?a>l?1:-1:n>r?-1:1;s++}return u.length!==p.length?u.length-p.length:e>t?-1:1},i18n_:function(t,e,r){var s,a,l,u,p;return null==r&&(r={}),u=t.indexOf("t"),a=t.indexOf("p"),s=t.indexOf("c"),p=o(e,r),a>-1&&(l=i(e),null!=l&&(p=l)),s>-1&&(p=n(p)),p}}),"function"==typeof Object.seal&&Object.seal(s),window.trazautils=s,r.exports=s}),require.register("lib/view-helper",function(t,e,r){var n,i,o=[].slice;i=e("./utils"),n=function(t,e){return Handlebars.registerHelper(t,e)},n("with",function(t,e){return!t||Handlebars.Utils.isEmpty(t)?e.inverse(this):e.fn(t)}),n("without",function(t,e){var r;return r=e.inverse,e.inverse=e.fn,e.fn=r,Handlebars.helpers["with"].call(this,t,e)}),n("url",function(){var t,e,r,n;return r=arguments[0],e=3<=arguments.length?o.call(arguments,1,n=arguments.length-1):(n=1,[]),t=arguments[n++],i.reverse(r,e)}),n("capitalize",function(){var t,e,r,n;return r=arguments[0],e=3<=arguments.length?o.call(arguments,1,n=arguments.length-1):(n=1,[]),t=arguments[n++],r=r.toLowerCase().replace(/\b[a-z]/g,function(t){return t.toUpperCase()})}),n("i18n_",function(t,e,r){return i.i18n_(t,e,r)}),n("numeral_",function(t,e,r){return numeral(t).format(e)})}),require.register("mediator",function(t,e,r){var n;n=r.exports=Chaplin.mediator}),require.register("models/base/collection",function(t,e,r){var n,i,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=e("./model"),r.exports=n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),_(e.prototype).extend(Chaplin.SyncMachine),e.prototype.type=null,e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.on("request",this.beginSync),this.on("sync",this.finishSync),this.on("error",this.unsync)},e.prototype.model=i,e}(Chaplin.Collection)}),require.register("models/base/model",function(t,e,r){var n,i={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r.exports=n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),_(e.prototype).extend(Chaplin.SyncMachine),e.prototype.idAttribute="_id",e.prototype.accessors=null,e.prototype.type=null,e.prototype.getAttributes=function(){var t,r,n,i,o;if(t=Chaplin.utils.beget(e.__super__.getAttributes.apply(this,arguments)),r=this.accessors)for(i=0,o=r.length;o>i;i++)n=r[i],t[n]=this[n].bind(this);return t},e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.save=_.debounce(this.save,500),this.on("request",this.beginSync),this.on("sync",this.finishSync),this.on("error",this.unsync),this.on("invalid",function(t){return function(e,r){return t.publishEvent("!application:showAlert",{type:"error",text:r})}}(this))},e.prototype.parse=function(t,e){return null!=t?_.omit(t,["ok"]):void 0},e.prototype.get=function(t){return null!=this.accessors&&this.accessors.indexOf(t)>-1?this[t]():e.__super__.get.apply(this,arguments)},e.prototype.set=function(t,r,n){var i,o;return e.__super__.set.apply(this,arguments),o="object"==typeof r?r:n,null!=o&&(i=o.autoSave),i&&this.save(null,{error:function(t){return function(e,r){return t.publishEvent("!application:showAlert",{type:"error",timeout:5e3,text:r})}}(this)}),this},e}(Chaplin.Model)}),require.register("models/setup/setup-model",function(t,e,r){var n,i,o,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("models/base/model"),o=e("lib/utils"),r.exports=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.idAttribute="_id",e.prototype.initialize=function(t,e){},e.prototype.url=function(){return"/api/setup"},e}(n)}),require.register("models/tables/table-collection",function(t,e,r){var n,i,o,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("models/base/collection"),o=e("models/tables/table-model"),r.exports=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.model=o,e.prototype.url="/api/tables",e.prototype.comparator="name",e}(n)}),require.register("models/tables/table-model",function(t,e,r){var n,i,o,s,a={}.hasOwnProperty,l=function(t,e){function r(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("models/base/model"),s=e("lib/utils"),i=e("models/columns/column-collection"),r.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.calulateNextAlias=function(t){var e;return t.sort(s.naturalCmp),t=_.sortBy(t,function(t){return t.charCodeAt(0)<97?Array(t.length).join("ï¿°")+t:t}),console.log(t),e=t[t.length-1],e.substr(0,e.length-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)},e.prototype.idPrefix="table",e.prototype.tableNamesList=null,e.prototype.columnCollection=null,e.prototype.defaults={_id:"table::",type:"table"},e.prototype.accessors=["aliasIntValue"],e.prototype.initialize=function(t,r){return e.__super__.initialize.apply(this,arguments),null==t&&(null!=r?r.aliasList:void 0)&&this.set("alias",e.calulateNextAlias(r.aliasList)),null==t&&(null!=r?r.tableNamesList:void 0)&&(this.tableNamesList=r.tableNamesList),this.columnCollection=new i({tableParent:this}),this.nameChanged=_.debounce(this.nameChanged,500),this.listenTo(this,"change:name",this.nameChanged)},e.prototype.url=function(){return"/api/tables/"+this.get("_id")},e.prototype.aliasIntValue=function(){var t;return t=this.get("alias"),1===t.length&&t.charCodeAt()<97?26+s.base26ToInt(t)/100:"$pl"===t?-1e6:s.base26ToInt(t)},e.prototype.validate=function(t,e){var r;return r="",(null==t.alias||0===t.alias.length)&&(r+="\nEl alias es un dato obligatorio."),null==t.name||0===t.name.length?r+="\nEl nombre es un dato obligatorio.":null!=this.tableNamesList&&this.tableNamesList.length>0&&this.tableNamesList.indexOf(t.name)>-1&&(r+="\nYa existe una tabla con el mismo nombre"),0===r.length&&(r=null),r},e.prototype.nameChanged=function(){return this.set({_id:""+this.idPrefix+"::"+this.get("name")})},e.prototype.getColumn=function(t){return null!=this.columnCollection?this.columnCollection.findWhere({alias:t}):void 0},e.prototype.dispose=function(){var t,r,n,i;if(!this.disposed){for(null!=this.columnCollection&&this.columnCollection.dispose(),r=["tableNamesList","columnCollection"],n=0,i=r.length;i>n;n++)t=r[n],delete this[t];return e.__super__.dispose.apply(this,arguments)}},e}(n)}),require.register("routes",function(t,e,r){r.exports=function(t){return t("","scan#index"),t("scan","scan#index"),t("setup","setup#show")}}),require.register("views/alert-view",function(t,e,r){var n,i,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=e("views/base/view"),r.exports=n=function(t){function r(t){null!=t&&_.extend(this,_.pick(t,["messageData"])),r.__super__.constructor.apply(this,arguments)}return s(r,t),r.prototype.region="alerts",r.prototype.template=e("./templates/alert"),r.prototype.autoRender=!0,r.prototype.render=function(){return r.__super__.render.apply(this,arguments),setTimeout(function(t){return function(){return t.dispose()}}(this),1e4),this.$(".alert").on("closed.bs.alert",function(t){return function(){return t.dispose()}}(this))},r.prototype.getTemplateData=function(){return this.messageData},r.prototype.dispose=function(){var t,e,n,i;if(!this.disposed){for(e=["messageData"],n=0,i=e.length;i>n;n++)t=e[n],delete this[t];return r.__super__.dispose.apply(this,arguments)}},r}(i)}),require.register("views/base/collection-view",function(t,e,r){var n,i,o,s,a,l=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty,p=function(t,e){function r(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=e("./view"),o=e("lib/utils"),n=Backbone.$,a=function(){return n?function(t,e){return t.toggle(e)}:function(t,e){return t.style.display=e?"":"none"}}(),r.exports=i=function(t){function e(t){var r;null==t&&(t={}),this.saveScrollInfo=l(this.saveScrollInfo,this),this.filterFN=l(this.filterFN,this),null!=this.searchFieldSelector&&(this.events["keyup "+this.searchFieldSelector]="filterList"),null!=this.renderAnimation&&(null!=t.className?t.className=t.className+(" animated "+this.renderAnimation):this.className=this.className+(" animated "+this.renderAnimation)),null!=t.defaultFilterValue&&(this.defaultFilterValue=t.defaultFilterValue),e.__super__.constructor.apply(this,arguments),r=this.onScreenResize,this.onScreenResize=_.debounce(function(t){return function(){return r.apply(t,arguments)}}(this),100),n(window).on("resize.onScreenResize_"+this.cid,this.onScreenResize),n(window).on("orientationchange.onScreenResize_"+this.cid,this.onScreenResize)}return p(e,t),e.prototype.getTemplateFunction=s.prototype.getTemplateFunction,e.prototype.useCssAnimation=!0,e.prototype.animationStartClass="animated fadeIn",e.prototype.animationEndClass="animated fadeIn",e.prototype.renderAnimation="fadeIn",e.prototype._rendered=!1,e.prototype.searchFieldSelector=null,e.prototype.defaultFilterAttr=null,e.prototype.defaultFilterValue=null,e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.loadLastParams()},e.prototype.loadLastParams=function(){var t,e,r,n,i,o;return t=null!=(i=this.collection)&&null!=(o=i.tableParent)?o.id:void 0,e=""+this.className+"_"+t,(r=window.savedPageStatus)[e]||(r[e]={}),this.currentParams=window.savedPageStatus[e],(n=this.currentParams).filterAttr||(n.filterAttr=this.defaultFilterAttr||"name"),null!=this.defaultFilterValue&&null==this.currentParams.filterValue&&(this.currentParams.filterValue=this.defaultFilterValue),this.orderByAttr(this.currentParams.filterAttr,this.currentParams.filterValue)},e.prototype.render=function(){return this._rendered=!1,e.__super__.render.apply(this,arguments),this.adjustSearchField(this.currentParams.filterAttr,this.currentParams.filterValue),this._rendered=!0,this.trigger("rendered"),this},e.prototype.attach=function(){return e.__super__.attach.apply(this,arguments),this.adjustListHeight(),this.adjustScrollPosition()},e.prototype.onScreenResize=function(){return this.adjustListHeight()},e.prototype.adjustListHeight=function(){var t;return t=function(t){return function(e){var r;return null==e&&(e=!1),r=n(window).height()-t.$(t.listSelector).offset().top-20,250>r&&(r=250),e&&(r-=20),t.$(t.listSelector).height(r)}}(this),this.$(".modal").length>0?"false"===n(".modal").attr("aria-hidden")?t(!0):this.$(".modal").on("shown.bs.modal",function(e){return function(){return t(!0)}}(this)):t()},e.prototype.adjustScrollPosition=function(){return null!=this.currentParams.scrollTop?this.$(this.listSelector).scrollTop(this.currentParams.scrollTop):void 0},e.prototype.adjustSearchField=function(t,e){return null!=this.searchFieldSelector?this.whenRendered().then(function(r){return function(){return r.$(r.searchFieldSelector).val(e),r.$(r.searchFieldSelector).attr("placeholder",o.i18n_("c","search_by_term",{term:o.i18n_("t",t)}))}}(this)):void 0},e.prototype.filterList=function(t,e){return null!=this.searchFieldSelector&&(null!=e?this.$(this.searchFieldSelector).val(e):e=this.$(this.searchFieldSelector).val()),null!=e&&this.filter(function(t){return function(r){return t.filterFN(r,e)}}(this)),this.currentParams.filterValue=e},e.prototype.filterFN=function(t,e){var r;return r=t.get(this.currentParams.filterAttr),null!=r?r.toLowerCase().indexOf(e.toLowerCase())>-1:!1},e.prototype.orderByAttr=function(t,e){return null==e&&(e=""),this.whenRendered().then(function(r){return function(){var n;return r.currentParams.filterAttr=t,r.currentParams.filterValue=e,n=r.currentParams.filterAttr,"alias"===n&&(n="aliasIntValue"),r.collection.comparator=function(t){var e;return e=t.get(n)},r.adjustSearchField(r.currentParams.filterAttr,r.currentParams.filterValue),r.filterList(null,e),r.collection.sort()}}(this))},e.prototype.saveScrollInfo=function(){return this.currentParams.scrollTop=this.$(this.listSelector).scrollTop()},e.prototype.filterCallback=function(t,e){return n&&t.$el.stop(!0,!0),t.el.style.display="block",a(n?t.$el:t.el,e)},e.prototype.initItemView=function(t){if(this.itemView)return new this.itemView({autoRender:!1,model:t,saveScrollPosition:this.saveScrollInfo});throw new Error("The CollectionView#itemView property must be defined or the initItemView() must be overridden.")},e.prototype.reattach=function(){var t,e,r,n;for(this.attach(),this.delegateEvents(),n=this.subviews,e=0,r=n.length;r>e;e++)t=n[e],t.reattach();return this},e.prototype.whenRendered=function(){var t;return t=Q.defer(),this._rendered?t.resolve():this.listenToOnce(this,"rendered",function(){return t.resolve()}),t.promise},e.prototype.dispose=function(){var t,r,i,o;if(!this.disposed){for(n(window).off(".onScreenResize_"+this.cid),r=["currentParams"],i=0,o=r.length;o>i;i++)t=r[i],delete this[t];return e.__super__.dispose.apply(this,arguments)}},e}(Chaplin.CollectionView)}),require.register("views/base/view",function(t,e,r){var n,i={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e("lib/view-helper"),r.exports=n=function(t){function e(t){var r,n;null==t&&(t={}),null!=this.renderAnimation&&(null!=t.className?t.className=t.className+(" animated "+this.renderAnimation):this.className=this.className+(" animated "+this.renderAnimation)),e.__super__.constructor.apply(this,arguments),null!=this.className&&((r=window.savedPageStatus)[n=this.className]||(r[n]={}),this.currentParams=window.savedPageStatus[this.className])}return o(e,t),e.prototype.optionNames=Chaplin.View.prototype.optionNames.concat(["template"]),e.prototype._rendered=!1,e.prototype.renderAnimation="fadeIn",e.prototype.getTemplateFunction=function(){return this.template},e.prototype.render=function(){return this._rendered=!1,e.__super__.render.apply(this,arguments),this._rendered=!0,this.trigger("rendered"),this},e.prototype.reattach=function(){var t,e,r,n;for(this.attach(),this.delegateEvents(),n=this.subviews,e=0,r=n.length;r>e;e++)t=n[e],t.reattach();return this},e.prototype.attach=function(){return e.__super__.attach.apply(this,arguments),null!=this.model&&"function"==typeof this.stickit?this.stickit():void 0},e.prototype.whenRendered=function(){var t;return t=Q.defer(),this._rendered?t.resolve():this.listenToOnce(this,"rendered",function(){return t.resolve()}),t.promise},e.prototype.dispose=function(){var t,r,n,i;for(null!=this.model&&"function"==typeof this.stickit&&this.unstickit(),r=["currentParams"],n=0,i=r.length;i>n;n++)t=r[n],delete this[t];return e.__super__.dispose.apply(this,arguments)},e}(Chaplin.View)}),require.register("views/home/header-view",function(t,e,r){var n,i,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=e("views/base/view"),r.exports=n=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return s(r,t),r.prototype.autoRender=!0,r.prototype.container="#header-container",r.prototype.containerMethod="html",r.prototype.template=e("./templates/header"),r}(i)}),require.register("views/home/templates/header",function(t,e,r){r.exports=Handlebars.template(function(t,e,r,n,i){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,t.helpers),i=i||{};var o,s,a="",l=r.helperMissing,u=this.escapeExpression;return a+='<div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">'+u((o=r.i18n_||e&&e.i18n_,s={hash:{},data:i},o?o.call(e,"c","toggle_navigation",s):l.call(e,"i18n_","c","toggle_navigation",s)))+'</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand"><img src="images/logo.png" alt="logo"/><span class="app-title"><strong>Web&nbsp;</strong>Scanner</span></a></div><div id="navbar" class="navbar-collapse collapse"></div></div>'})}),require.register("views/scan/scan-view",function(t,e,r){var n,i,o,s,a=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=e("views/base/view"),o=e("lib/utils"),i=e("lib/scanner"),r.exports=n=function(t){function r(){return this.saveImage=a(this.saveImage,this),this.showPreview=a(this.showPreview,this),r.__super__.constructor.apply(this,arguments)}return u(r,t),r.prototype.autoRender=!0,r.prototype.className="scan-page",r.prototype.template=e("./templates/scan-page"),r.prototype.events={"click #scanButton":"scan"},r.prototype.render=function(){return r.__super__.render.apply(this,arguments)},r.prototype.scan=function(){var t;return t={},i.preview().then(function(t){return function(e){return t.showPreview(e),i.scan()}}(this)).then(function(t){return function(){return t.publishEvent("!application:showAlert",{type:"information",text:"Image scanned successfully!"})}}(this))["catch"](function(t){return function(e){return console.error(e),t.publishEvent("!application:showAlert",{type:"error",text:e})}}(this))},r.prototype.showPreview=function(t){return this.$("img.scanned-img").attr("src",t)},r.prototype.saveImage=function(t){return window.location.assign(t)},r}(s)}),require.register("views/scan/templates/scan-page",function(t,e,r){r.exports=Handlebars.template(function(t,e,r,n,i){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,t.helpers),i=i||{};var o,s,a="",l=r.helperMissing,u=this.escapeExpression;return a+='<div class="row scan-actions"><div class="col-md-8 col-md-offset-2"><div class="row"><div class="col-md-8"><div class="form-horizontal"><div class="form-group"><label for="baseRepoPath" class="col-sm-4 control-label">'+u((o=r.i18n_||e&&e.i18n_,s={hash:{},data:i},o?o.call(e,"c","file_name",s):l.call(e,"i18n_","c","file_name",s)))+'</label><div class="col-sm-8"><input id="filename" type="text" placeholder="file name for save" value="filename.jpg" class="form-control"/></div></div></div></div><div class="col-md-4"><button id="scanButton" type="button" class="btn btn-primary btn-lg btn-block">'+u((o=r.i18n_||e&&e.i18n_,s={hash:{},data:i},o?o.call(e,"c","scan_and_save",s):l.call(e,"i18n_","c","scan_and_save",s)))+'</button></div></div></div></div><div class="row"><div class="col-md-8 col-md-offset-2"><div class="panel panel-default"><div class="panel-heading text-center">'+u((o=r.i18n_||e&&e.i18n_,s={hash:{},data:i},o?o.call(e,"c","image_preview",s):l.call(e,"i18n_","c","image_preview",s)))+'</div><div class="panel-body"><img class="scanned-img"/></div></div></div></div>'})}),require.register("views/setup/setup-view",function(t,e,r){var n,i,o,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};o=e("views/base/view"),i=e("lib/utils"),r.exports=n=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return a(r,t),r.prototype.autoRender=!0,r.prototype.className="setup-page",r.prototype.template=e("./templates/setup"),r.prototype.bindings={"#baseRepoPath":"base_repo_path"},r.prototype.events={"click #saveButton":"saveSetup"},r.prototype.saveSetup=function(){var t;return t={success:function(t){return function(){return console.log("save setup success!"),Chaplin.utils.redirectTo({url:"/"})}}(this),error:function(t){return function(e,r){return t.publishEvent("!application:showAlert",{type:"error",text:i.i18n_("c","setup:invalid_setup_msg")})}}(this)},this.model.save(null,t)},r}(o)}),require.register("views/setup/templates/setup",function(t,e,r){r.exports=Handlebars.template(function(t,e,r,n,i){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,t.helpers),i=i||{};var o,s,a,l="",u=r.helperMissing,p=this.escapeExpression,c="function";return l+='<div class="page-title"><h4>'+p((s=r.i18n_||e&&e.i18n_,a={hash:{},data:i},s?s.call(e,"c","setup:editor_setup",a):u.call(e,"i18n_","c","setup:editor_setup",a)))+'</h4></div><div class="row"><div class="col-md-8 col-md-offset-2"><div class="panel panel-default"><div class="panel-body"><div class="form-horizontal"><div class="form-group"><label for="baseRepoPath" class="col-sm-4 control-label">'+p((s=r.i18n_||e&&e.i18n_,a={hash:{},data:i},s?s.call(e,"c","setup:base_files_repo_path",a):u.call(e,"i18n_","c","setup:base_files_repo_path",a)))+'</label><div class="col-sm-8"><input id="baseRepoPath" type="text" placeholder="path" value="',(s=r.base_repo_path)?o=s.call(e,{hash:{},data:i}):(s=e&&e.base_repo_path,o=typeof s===c?s.call(e,{hash:{},data:i}):s),l+=p(o)+'" data-attr="base_repo_path" class="form-control"/></div></div></div></div><div class="panel-footer"><div class="row"><div class="col-xs-12"><div class="pull-right"><button id="saveButton" type="button" class="btn btn-primary">'+p((s=r.i18n_||e&&e.i18n_,a={hash:{},data:i},s?s.call(e,"c","save",a):u.call(e,"i18n_","c","save",a)))+"</button></div></div></div></div></div></div></div>"})}),require.register("views/site-view",function(t,e,r){var n,i,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=e("views/base/view"),r.exports=n=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return s(r,t),r.prototype.container="body",r.prototype.id="site-container",r.prototype.regions={header:"#header-container",main:"#page-container",alerts:".alert-container"},r.prototype.template=e("./templates/site"),r}(i)}),require.register("views/templates/alert",function(t,e,r){r.exports=Handlebars.template(function(t,e,r,n,i){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,t.helpers),i=i||{};var o,s,a="",l="function",u=this.escapeExpression;return a+='<div role="alert" class="alert alert-dismissible alert-',(s=r.level)?o=s.call(e,{hash:{},data:i}):(s=e&&e.level,o=typeof s===l?s.call(e,{hash:{},data:i}):s),a+=u(o)+'"><button type="button" data-dismiss="alert" aria-label="Close" class="close"><span aria-hidden="true">&times;</span></button><strong>',(s=r.title)?o=s.call(e,{hash:{},data:i}):(s=e&&e.title,o=typeof s===l?s.call(e,{hash:{},data:i}):s),a+=u(o)+"</strong> ",(s=r.message)?o=s.call(e,{hash:{},data:i}):(s=e&&e.message,o=typeof s===l?s.call(e,{hash:{},data:i}):s),a+=u(o)+"</div>"})}),require.register("views/templates/backbutton",function(exports,require,module){module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){buf.push("<a href=\"javascript:window.history.back()\" class=\"text-left\">{{i18n_ 'c' 'back'}}</a>")}return buf.join("")}}),require.register("views/templates/site",function(t,e,r){r.exports=Handlebars.template(function(t,e,r,n,i){return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,t.helpers),i=i||{},'<header id="header-container" class="navbar navbar-inverse navbar-fixed-top"></header><div class="container"><div id="page-container"></div></div>'})});